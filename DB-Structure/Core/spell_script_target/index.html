<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <title>Spell script target - CMaNGOS Docs</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Spell script target";
    var mkdocs_page_input_path = "DB-Structure/Core/spell_script_target.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> CMaNGOS Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../..">Main Page</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../FAQ-Frequently-Asked-Questions/">Frequently Asked Questions</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../Installation-Instructions/">Installation Guide</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="https://github.com/cmangos/issues/issues">Bug Reports & Issues</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">CMaNGOS Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
    
    <li>Spell script target</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>Back to <a href="mangosdb_struct">world database</a> list of tables.</p>
<h2 id="the-96spell95script95target96-table">The `spell_script_target` table</h2>
<p>Used to control SpellEffect with ImpliciteTargetA-B == 7|8|22|38|40|46|52.</p>
<p>These spell effects require a specific target in either alive or dead state (for creatures).</p>
<h3 id="structure">Structure</h3>
<table>
<thead>
<tr>
<th><strong>Field</strong></th>
<th><strong>Type</strong></th>
<th><strong>Null</strong></th>
<th><strong>Key</strong></th>
<th><strong>Default</strong></th>
<th><strong>Extra</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="spell_script_target#entry">entry</a></td>
<td>int(6) unsigned</td>
<td>NO</td>
<td>PRI</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="spell_script_target#type">type</a></td>
<td>int(8) unsigned</td>
<td>NO</td>
<td>PRI</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td><a href="spell_script_target#targetentry">targetEntry</a></td>
<td>int(11) unsigned</td>
<td>NO</td>
<td>PRI</td>
<td>0</td>
<td></td>
</tr>
<tr>
<td><a href="spell_script_target#inverseeffectmask">inverseEffectMask</a></td>
<td>mediumint(8) unsigned</td>
<td>NO</td>
<td></td>
<td>0</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="description-of-the-fields">Description of the fields</h3>
<h4 id="entry">entry</h4>
<p>The spell ID. <a href="spell_template">spell_template#id</a></p>
<p>When adding a new entry, be sure to check to see if the spell triggers another spell. If it does, don't forget to check that spell as well to see if it has ImplictTargetA-B = 38 || ImpliciteTargetA-B == 7 and if it does, add an entry in this table for it as well.</p>
<p>NOTE: The only valide targets for ImpliciteTargetA-B == 7 are creatures(dead or alive).</p>
<h4 id="type">type</h4>
<table>
<thead>
<tr>
<th>ID</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>Gameobject</td>
</tr>
<tr>
<td>1</td>
<td>Creature by Entry</td>
</tr>
<tr>
<td>2</td>
<td>Creature which must be dead (killed by Player or Npc)</td>
</tr>
<tr>
<td>3</td>
<td>Creature by Guid</td>
</tr>
</tbody>
</table>
<p>NOTE: A creature corpse and a creature that <em>looks</em> dead are two different things. One is actually dead and the other is just using an emote or spell to appear dead.</p>
<h4 id="targetentry">targetEntry</h4>
<p>Can be: <a href="creature_template#entry">creature_template.entry</a> or <a href="gameobject_template#entry">gameobject_template.entry</a> depending on the choosen type.</p>
<p>This specified entry will be automatically targeted if it is near the unit casting the spell.</p>
<h4 id="inverseeffectmask">inverseEffectMask</h4>
<p>A mask value defining if the target is only applicable for specifiq effect indexes by the spell.
This is an inverseMask, so you need to filter effects for which you don't want the target to be valid.
The mask is 1 &lt;&lt; EffectIndex (EffectIndex going from 0 to 2)</p>
<p>Example:
(Spell, 1, NpcA, 2^0), -- NpcA will NOT be chosen for spell-effect 0, so it will be chosen for effects 1 or 2
(Spell, 1, NpcB, 2^1|2^2), -- NpcB will NOT be chosen for spell-effects 1, 2, so it will be chosen for effect 0.</p>
<p>So with this we can define targets for a spell (assuming that the targets for the effects can make use of spell_script_target!) in a way that Effect0 will hit NpcB, and Effect1,2 will hit NpcA</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>All effects</td>
</tr>
<tr>
<td>1</td>
<td>effects 1 and 2</td>
</tr>
<tr>
<td>2</td>
<td>effects 0 and 2</td>
</tr>
<tr>
<td>3</td>
<td>effect 2</td>
</tr>
<tr>
<td>4</td>
<td>effects 0 and 1</td>
</tr>
<tr>
<td>5</td>
<td>effect 1</td>
</tr>
<tr>
<td>6</td>
<td>effect 0</td>
</tr>
</tbody>
</table>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>

</body>
</html>
